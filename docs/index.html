<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Applying Fundamental Attribution to portfolios • FundamentalAttribution</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Applying Fundamental Attribution to portfolios">
<meta property="og:description" content="|
  This package enables the analysis of portfolio returns using the Fundamental Attribution methodology. This attribution methodology separates portfolio returns into those arising from changes in portfolio valuation mulitple, underlying fundamental growth and portfolio activity (ie changes in asset weights within the portfolio).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">FundamentalAttribution</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thinkingaheadinstitute/FundamentalAttribution/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="fundamental-attribution">Fundamental Attribution<a class="anchor" aria-label="anchor" href="#fundamental-attribution"></a>
</h1></div>
<p>This R package contains functions to implement the fundamental-based performance attribution methodology developed by the <a href="https://www.thinkingaheadinstitute.org/" class="external-link">Thinking Ahead Institute</a>. The goal of this package is to allow users to quickly apply the methodology to their own data while providing insight into how this analysis can be replicated or extended for different needs.</p>
<p>A paper describing the methodology in more detail is available <a href="https://www.thinkingaheadinstitute.org/research-papers/fundamental-return-attribution/" class="external-link">here</a>.</p>
<p><br></p>
<div class="section level2">
<h2 id="what-is-fundamental-attribution">What is fundamental attribution?<a class="anchor" aria-label="anchor" href="#what-is-fundamental-attribution"></a>
</h2>
<p>Fundamental attribution is a performance attribution method that aims to separate a portfolio’s returns into three main components:</p>
<ul>
<li>
<strong>Multiple return</strong> - Returns arising from changes in market sentiment</li>
<li>
<strong>Growth return</strong> - The return due the growth of the portfolio’s underlying fundamentals</li>
<li>
<strong>Activity return</strong> - The change in those fundamental characteristics due to changes in the portfolio’s holdings</li>
</ul>
<p>Decomposing returns into these three components enables a deeper understanding and assessment of how an investment strategy generates returns. More traditional attribution methods focus on explaining returns by the performance of different groupings of securities; whereas this approach considers how the investment process generates returns in aggregate due to the current decisions of the asset manager or its past asset selection decisions. The approach separates out returns arising from changes in short-term market sentiment, enabling a longer-term outlook by asset owners and asset managers when evaluating recent performance or setting future return expectations.</p>
<p>The framework allows the evaluation of an asset manager’s decisions to be based not only on market value returns, but also on changes in the fundamental attributes of the portfolio over time. This is intended to promote a longer-term outlook, and to enable an improved dialogue between asset owners and asset managers. Specifically, it broadens the portfolio review discussion away from an exclusive focus on short-term performance towards the asset manager’s decision-making and the health of the portfolio.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="improving-reporting-practices-in-the-investment-industry">Improving reporting practices in the investment industry<a class="anchor" aria-label="anchor" href="#improving-reporting-practices-in-the-investment-industry"></a>
</h2>
<p>This methodology was also developed to improve reporting practice across the investment industry. With this in mind, this source code is being shared under the MIT License, so that others may use this code to adopt this framework in their reporting to clients or easily re-implement the methodology in their analytic framework of choice. We are grateful to our members for testing the model against actual portfolios following various strategies and for supporting the overall initiative.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="installing-the-package">Installing the package<a class="anchor" aria-label="anchor" href="#installing-the-package"></a>
</h2>
<p>This package can be installed from this repo in the normal way.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/remotes/man/install_github.html" class="external-link">install_github</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">'thinkingaheadinstitute/FundamentalAttribution'</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="using-the-package-to-run-a-fundamental-attribution-analysis">Using the package to run a fundamental attribution analysis<a class="anchor" aria-label="anchor" href="#using-the-package-to-run-a-fundamental-attribution-analysis"></a>
</h2>
<p>The following code uses the functions in this package to apply the Fundamental Attribution framework to some example data. This data has been created to demonstrate this analysis. This example is a two asset portfolio that is equally weighted and rebalanced at the end of each month. This example replicates the overall procedure used in the Fundamental Attribution paper’s example.</p>
<p>To follow this example, copy each code chunk into R and run in turn. Once complete the analysis will show positive attribution effects from the Growth and Activity return components.</p>
<p>We begin by loading the library.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/thinkingaheadinstitute/FundamentalAttribution" class="external-link">FundamentalAttribution</a></span><span class="op">)</span></span></code></pre></div>
<p>This example will be use the <code>returns_long</code> and <code>fundamental_yield_long</code> datasets for the returns and yield of portfolios’ underlying assets.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/xts" class="external-link">xts</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">returns_long</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fundamental_yield_long</span>, <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>As this is an example, the next step creates an xts of the asset starting weights. The portfolio will contain two stocks, each rebalanced to 50% weight at month end.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="va">returns_long</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span></span>
<span><span class="va">weights</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">weights</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'b'</span>,<span class="st">'c'</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">weights</span>, <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>The asset weights, returns and yields are combined into a single data.table for the attribution analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asset_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fa_load_assets_xts.html">fa_load_assets_xts</a></span><span class="op">(</span>metric_to_price <span class="op">=</span> <span class="va">fundamental_yield_long</span>, </span>
<span>                   start_weights <span class="op">=</span> <span class="va">weights</span>,</span>
<span>                   asset_returns <span class="op">=</span> <span class="va">returns_long</span>, </span>
<span>                   metric_name <span class="op">=</span> <span class="st">'Example_yield'</span>,</span>
<span>                   series_name <span class="op">=</span> <span class="st">'Rebalanced'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">asset_data</span><span class="op">)</span></span></code></pre></div>
<p>The attribution analysis is applied to this data.table.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fa_attribution.html">fa_attribution</a></span><span class="op">(</span><span class="va">asset_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<p>The results of the attribution can then be displayed as a table or chart.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/fa_table_log_returns_pa.html">fa_table_log_returns_pa</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/fa_chart_data_prep.html">fa_chart_data_prep</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/fa_chart_cumulative_attribution.html">fa_chart_cumulative_attribution</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">variable</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/theme_fa.html">theme_fa</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Once the attribution results are calculated alternative charts or analysis of the results may be more suitable depending on the purpose of performing the attribution.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/thinkingaheadinstitute/FundamentalAttribution/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/thinkingaheadinstitute/FundamentalAttribution/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing FundamentalAttribution</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>WTW <br><small class="roles"> Copyright holder, author </small>  </li>
<li>James Price <br><small class="roles"> Author, contributor, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by WTW, James Price.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
