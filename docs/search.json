[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"WTW. Copyright holder, author. James Price. Author, contributor, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"WTW, Price J (2022). FundamentalAttribution: Applying Fundamental Attribution portfolios. R package version 0.1, https://github.com/thinkingaheadinstitute/FundamentalAttribution.","code":"@Manual{,   title = {FundamentalAttribution: Applying Fundamental Attribution to portfolios},   author = {{WTW} and James Price},   year = {2022},   note = {R package version 0.1},   url = {https://github.com/thinkingaheadinstitute/FundamentalAttribution}, }"},{"path":"/index.html","id":"fundamental-attribution","dir":"","previous_headings":"","what":"Applying Fundamental Attribution to portfolios","title":"Applying Fundamental Attribution to portfolios","text":"R package contains functions implement fundamental-based performance attribution methodology developed Thinking Ahead Institute. goal package allow users quickly apply methodology data providing insight analysis can replicated extended different needs. paper describing methodology detail available .","code":""},{"path":"/index.html","id":"what-is-fundamental-attribution","dir":"","previous_headings":"","what":"What is fundamental attribution?","title":"Applying Fundamental Attribution to portfolios","text":"Fundamental attribution performance attribution method aims separate portfolio’s returns three main components: Multiple return - Returns arising changes market sentiment Growth return - return due growth portfolio’s underlying fundamentals Activity return - change fundamental characteristics due changes portfolio’s holdings Decomposing returns three components enables deeper understanding assessment investment strategy generates returns. traditional attribution methods focus explaining returns performance different groupings securities; whereas approach considers investment process generates returns aggregate due current decisions asset manager past asset selection decisions. approach separates returns arising changes short-term market sentiment, enabling longer-term outlook asset owners asset managers evaluating recent performance setting future return expectations. framework allows evaluation asset manager’s decisions based market value returns, also changes fundamental attributes portfolio time. intended promote longer-term outlook, enable improved dialogue asset owners asset managers. Specifically, broadens portfolio review discussion away exclusive focus short-term performance towards asset manager’s decision-making health portfolio.","code":""},{"path":"/index.html","id":"improving-reporting-practices-in-the-investment-industry","dir":"","previous_headings":"","what":"Improving reporting practices in the investment industry","title":"Applying Fundamental Attribution to portfolios","text":"methodology also developed improve reporting practice across investment industry. mind, source code shared MIT License, others may use code adopt framework reporting clients easily re-implement methodology analytic framework choice. grateful members testing model actual portfolios following various strategies supporting overall initiative.","code":""},{"path":"/index.html","id":"installing-the-package","dir":"","previous_headings":"","what":"Installing the package","title":"Applying Fundamental Attribution to portfolios","text":"package can installed repo normal way.","code":"remotes::install_github(repo = 'thinkingaheadinstitute\\r-fundamental-attribution')"},{"path":"/index.html","id":"an-example-analysis","dir":"","previous_headings":"","what":"An example analysis","title":"Applying Fundamental Attribution to portfolios","text":"following code uses functions package apply Fundamental Attribution framework example data. data created demonstrate analysis. example two asset portfolio equally weighted rebalanced end month. example replicates overall procedure used Fundamental Attribution paper’s example. follow example, copy code chunk R run turn. complete analysis show positive attribution effects Growth Activity return components. begin loading library. example use returns_long fundamental_yield_long datasets returns yield portfolios’ underlying assets. example, next step creates xts asset starting weights. portfolio contain two stocks, rebalanced 50% weight month end. asset weights, returns yields combined single data.table attribution analysis. attribution analysis applied data.table. results attribution can displayed table chart. attribution results calculated alternative charts analysis results may suitable depending purpose performing attribution.","code":"library(fundamental.attribution.demo) head(returns_long, 5) head(fundamental_yield_long, 5) weights <- returns_long[-1,] weights[] <- 0 weights[,c('b','c')] <- 0.5 head(weights, 5) asset_data <- fa_load_assets_xts(metric_to_price = fundamental_yield_long,                     start_weights = weights,                    asset_returns = returns_long,                     metric_name = 'Example_yield',                    series_name = 'Rebalanced')  head(asset_data) results <- fa_attribution(asset_data)  head(results) results %>%    fa_table_log_returns_pa()  results %>%    fa_chart_data_prep() %>%    fa_chart_cumulative_attribution() +    ggplot2::facet_wrap(~variable) +    theme_fa()"},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 WTW Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/fa_add_fund_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Add fund level data to attribution results — fa_add_fund_level","title":"Add fund level data to attribution results — fa_add_fund_level","text":"Add fund returns fund yield attribution results. residual return component calculated fund returns added measuring difference bottom-attribution returns top-level returns.","code":""},{"path":"/reference/fa_add_fund_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add fund level data to attribution results — fa_add_fund_level","text":"","code":"fa_add_fund_level(.dt, fund_data, log_convert = TRUE)"},{"path":"/reference/fa_add_fund_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add fund level data to attribution results — fa_add_fund_level","text":".dt attribution results portfolio. fund_data additional fund data added. output fa_load_fund_* function. log_convert fund returns converted log returns? Defaults TRUE.","code":""},{"path":"/reference/fa_add_fund_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add fund level data to attribution results — fa_add_fund_level","text":"data.table attribution results additional fund level data new residual return component - difference fund return implied return.","code":""},{"path":"/reference/fa_attribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply the fundamental attribution calculations to a portfolio — fa_attribution","title":"Apply the fundamental attribution calculations to a portfolio — fa_attribution","text":"Calculate fundamental attribution results supplied data. data expected output fa_load_* function. Portfolio returns separated growth, multiple, activity intra-period components. Portfolio returns yields implied underlying assets also calculated.","code":""},{"path":"/reference/fa_attribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply the fundamental attribution calculations to a portfolio — fa_attribution","text":"","code":"fa_attribution(   .dt,   index_col = \"index\",   id_col = \"id\",   group_cols = c(\"metric_name\", \"group_id\", \"series_name\", \"series_type\"),   na_rm_start_weights = F )"},{"path":"/reference/fa_attribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply the fundamental attribution calculations to a portfolio — fa_attribution","text":".dt data.table generated fa_load_* function. , equivalent data.table/data.frame/tibble containing returns, yields starting weights asset portfolio measurement period. index_col character name column containing time index (eg period end date) measurement period. id_col character name column containing identifier asset portfolio. group_cols character vector columns names identifying different portfolio fundamental metric. used group portfolios allowing multiple portfolios fundamental metrics analysed together. na_rm_start_weights Remove rows start_weights NA. Defaults FALSE.","code":""},{"path":"/reference/fa_attribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply the fundamental attribution calculations to a portfolio — fa_attribution","text":"data.table attribution results.","code":""},{"path":"/reference/fa_attribution_relative.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate fundamental attribution of relative returns — fa_attribution_relative","title":"Calculate fundamental attribution of relative returns — fa_attribution_relative","text":"Calculate relative fundamental attribution combining fundamental attribution results portfolio benchmark.","code":""},{"path":"/reference/fa_attribution_relative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate fundamental attribution of relative returns — fa_attribution_relative","text":"","code":"fa_attribution_relative(strategy, benchmark)"},{"path":"/reference/fa_attribution_relative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate fundamental attribution of relative returns — fa_attribution_relative","text":"strategy fundamental attribution results portfolio, calculated fa_attribution function. benchmark fundamental attribution results benchmark, calculated fa_attribution function.","code":""},{"path":"/reference/fa_attribution_relative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate fundamental attribution of relative returns — fa_attribution_relative","text":"data.table attribution results portfolio, benchmark, relative performance.","code":""},{"path":"/reference/fa_chart_cumulative_attribution.html","id":null,"dir":"Reference","previous_headings":"","what":"A chart of the cumulative returns from each attribution component — fa_chart_cumulative_attribution","title":"A chart of the cumulative returns from each attribution component — fa_chart_cumulative_attribution","text":"function produce simple ggplot showing cumulative returns attribution component. ggplot object can edited usual ways.","code":""},{"path":"/reference/fa_chart_cumulative_attribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A chart of the cumulative returns from each attribution component — fa_chart_cumulative_attribution","text":"","code":"fa_chart_cumulative_attribution(   .dt,   cht_caption = NULL,   facet_scales = \"free_y\",   filter_variables = c(\"Activity\", \"Growth\", \"Multiple\", \"Intra-Period\", \"Residual\",     \"Implied Return\", \"Actual Return\"),   order_variables = T,   ... )"},{"path":"/reference/fa_chart_cumulative_attribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A chart of the cumulative returns from each attribution component — fa_chart_cumulative_attribution","text":".dt data.table attribution results, likely output fa_chart_data_prep. cht_caption character used caption chart. Defaults NULL. facet_scales Passed scales parameter facet_wrap facet_grid. Defaults 'free_y'. filter_variables variables included chart, also determines order variables. order_variables variables ordered? , use order 'filter_variables'. Defaults TRUE. ... Additional parameters passed geom_line via aes within function.","code":""},{"path":"/reference/fa_chart_cumulative_attribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A chart of the cumulative returns from each attribution component — fa_chart_cumulative_attribution","text":"ggplot object cumulative return components.","code":""},{"path":"/reference/fa_chart_data_prep.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare attribution results data for plotting or other analysis — fa_chart_data_prep","title":"Prepare attribution results data for plotting or other analysis — fa_chart_data_prep","text":"function handles reshaping attribution results data use ggplot2 cleaning auto-generated column names look nice included plot legends etc.","code":""},{"path":"/reference/fa_chart_data_prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare attribution results data for plotting or other analysis — fa_chart_data_prep","text":"","code":"fa_chart_data_prep(   .dt,   direction = \"long\",   labels = NA,   extra_id_cols = NA,   id_cols = c(\"index\", \"metric_name\", \"group_id\", \"series_name\", \"series_type\"),   replace_na = c(growth = 0, activity = 0, multiple = 0, intra_period = 0, fund_return     = 0) )"},{"path":"/reference/fa_chart_data_prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare attribution results data for plotting or other analysis — fa_chart_data_prep","text":".dt data.table attribution results direction prepared data.table 'long' 'wide'? Defaults 'long'. labels named character vector form c('intra_period' = 'Intra-Period') correct column names. Default labels compatible default column names package functions. extra_id_cols Additional id cols added id_cols. id_cols character vector column names identify data point time, portfolio type (eg strategy, benchmark, relative). replace_na Replace NA values attribution components value named vector. Defaults 0. Use NA retain NAs data.","code":""},{"path":"/reference/fa_chart_data_prep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare attribution results data for plotting or other analysis — fa_chart_data_prep","text":"reshaped reformatted data.table attribution results. reshaping 'long' labels calculated quantities (eg different attribution components) 'variable' column, value 'value' column.","code":""},{"path":"/reference/fa_load_assets_xts.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine asset weights, returns and fundamental-to-price ratios into a data.table — fa_load_assets_xts","title":"Combine asset weights, returns and fundamental-to-price ratios into a data.table — fa_load_assets_xts","text":"function combines separate xts objects containing yields, returns starting weights assets portfolio single data.table, suitable attribution calculations.","code":""},{"path":"/reference/fa_load_assets_xts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine asset weights, returns and fundamental-to-price ratios into a data.table — fa_load_assets_xts","text":"","code":"fa_load_assets_xts(   metric_to_price,   start_weights,   asset_returns,   asset_returns_ctb = NULL,   metric_name = NA,   series_name = NA,   group_id = NA )"},{"path":"/reference/fa_load_assets_xts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine asset weights, returns and fundamental-to-price ratios into a data.table — fa_load_assets_xts","text":"metric_to_price xts containing fundamental--price ratio assets portfolio. asset's weight changes 0% measurement period ratio required end period. start_weights xts containing starting weights assets portfolio measurement period. example, using monthly data start weights 31 Jan weights assets beginning 1 Jan. asset_returns xts containing returns assets measurement period. asset_returns_ctb optional xts containing return contributions assets portfolio. supplied calculated asset_returns * start_weights. metric_name character name fundamental supplied. series_name character name strategy starting weights return contributions sourced. group_id character name allows multiple series combined, place holder relative attribution applied.","code":""},{"path":"/reference/fa_load_assets_xts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine asset weights, returns and fundamental-to-price ratios into a data.table — fa_load_assets_xts","text":"data.table combined data can passed directly attribution functions.","code":""},{"path":"/reference/fa_load_fund_xts.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine fund returns and fundamental-to-price ratio into data.table — fa_load_fund_xts","title":"Combine fund returns and fundamental-to-price ratio into data.table — fa_load_fund_xts","text":"function combines separate xts objects contain fund level data single data.table can added attribution results calculated fund's underlying holdings.","code":""},{"path":"/reference/fa_load_fund_xts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine fund returns and fundamental-to-price ratio into data.table — fa_load_fund_xts","text":"","code":"fa_load_fund_xts(   metric_to_price = NULL,   fund_returns,   metric_name = NA,   series_name = NA,   group_id = NA )"},{"path":"/reference/fa_load_fund_xts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine fund returns and fundamental-to-price ratio into data.table — fa_load_fund_xts","text":"metric_to_price xts containing fundamental--price ratio fund. first column used. fund_returns xts containing returns fund. first column used. metric_name character name fundamental used. series_name character name strategy, used match strategy's fund level stock level data. Defaults name first column fund_returns xts. group_id character name allows multiple series combined, place holder relative attribution applied.","code":""},{"path":"/reference/fa_load_fund_xts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine fund returns and fundamental-to-price ratio into data.table — fa_load_fund_xts","text":"data.table fund level data attribution can run, can added strategy's stock level attribution results.","code":""},{"path":"/reference/fa_table_log_returns_pa.html","id":null,"dir":"Reference","previous_headings":"","what":"A summary table of attribution return components — fa_table_log_returns_pa","title":"A summary table of attribution return components — fa_table_log_returns_pa","text":"Calculate average return component portfolio fundamental included attribution results.","code":""},{"path":"/reference/fa_table_log_returns_pa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A summary table of attribution return components — fa_table_log_returns_pa","text":"","code":"fa_table_log_returns_pa(.dt, rescale = 12, accuracy = 0.01, na_rm = T)"},{"path":"/reference/fa_table_log_returns_pa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A summary table of attribution return components — fa_table_log_returns_pa","text":".dt data.table attribution results. rescale number annualise, otherwise, rescale returns. Defaults 12. accuracy accuracy results. Defaults 0.01. na_rm Remove rows NAs .dt. Defaults TRUE.","code":""},{"path":"/reference/fa_table_log_returns_pa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A summary table of attribution return components — fa_table_log_returns_pa","text":"data.table summarising returns attribution component.","code":""},{"path":"/reference/fundamental_yield_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Yields of three assets covering 13 dates — fundamental_yield_long","title":"Yields of three assets covering 13 dates — fundamental_yield_long","text":"dataset containing invented yields three assets 13 dates.","code":""},{"path":"/reference/fundamental_yield_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Yields of three assets covering 13 dates — fundamental_yield_long","text":"","code":"fundamental_yield_long"},{"path":"/reference/fundamental_yield_long.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Yields of three assets covering 13 dates — fundamental_yield_long","text":"xts 13 rows 3 assets.","code":""},{"path":"/reference/fundamental_yield_short.html","id":null,"dir":"Reference","previous_headings":"","what":"Yields of four assets covering three dates — fundamental_yield_short","title":"Yields of four assets covering three dates — fundamental_yield_short","text":"dataset containing invented yields four assets three dates.","code":""},{"path":"/reference/fundamental_yield_short.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Yields of four assets covering three dates — fundamental_yield_short","text":"","code":"fundamental_yield_short"},{"path":"/reference/fundamental_yield_short.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Yields of four assets covering three dates — fundamental_yield_short","text":"xts 3 rows 4 assets.","code":""},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"/reference/returns_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns of three assets covering 12 periods — returns_long","title":"Returns of three assets covering 12 periods — returns_long","text":"dataset containing invented returns three assets two periods.","code":""},{"path":"/reference/returns_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns of three assets covering 12 periods — returns_long","text":"","code":"returns_long"},{"path":"/reference/returns_long.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Returns of three assets covering 12 periods — returns_long","text":"xts 13 rows 3 assets.","code":""},{"path":"/reference/returns_short.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns of four assets covering two periods — returns_short","title":"Returns of four assets covering two periods — returns_short","text":"dataset containing invented returns four assets two periods.","code":""},{"path":"/reference/returns_short.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns of four assets covering two periods — returns_short","text":"","code":"returns_short"},{"path":"/reference/returns_short.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Returns of four assets covering two periods — returns_short","text":"xts 3 rows 4 assets.","code":""},{"path":"/reference/theme_fa.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a theme to a ggplot object — theme_fa","title":"Apply a theme to a ggplot object — theme_fa","text":"function applies basic theme ggplot object.","code":""},{"path":"/reference/theme_fa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a theme to a ggplot object — theme_fa","text":"","code":"theme_fa(base_size = 10, base_family = \"\", ...)"},{"path":"/reference/theme_fa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a theme to a ggplot object — theme_fa","text":"base_size Set text size ggplot. base_family Set font use ggplot. ... Applied theme modifications.","code":""},{"path":"/reference/theme_fa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a theme to a ggplot object — theme_fa","text":"ggplot theme object.","code":""}]
